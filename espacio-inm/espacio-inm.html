<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>espacio.INM ‚Äî rraum.LAB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="../base.css">
  <link rel="stylesheet" href="espacio-inm.css">
</head>
<body>

<header>
  <button class="back-btn" onclick="location.href='../test.html?skipPreloader=true'">‚Üê Volver</button>
  <h1>espacio.INM</h1>
  <p class="muted">Conversi√≥n de panoramas</p>
</header>

<!-- üîπ Pesta√±as -->
<div class="tabs">
  <button class="tab-btn active" data-target="cm2eq">CM ‚Üí EQ</button>
  <button class="tab-btn" data-target="eq2cm">EQ ‚Üí CM</button>
</div>

<main id="workspace">

  <!-- üîπ Bloque Cubemap ‚Üí Equirectangular -->
  <section id="cm2eq" class="tool-main tab-content active">

    <!-- Columna izquierda -->
    <div class="cube-inputs">

      <div class="cube-face">
        <button type="button" class="file-btn" data-target="px">+</button>
        <span>Right (+X)</span>
        <input type="file" id="px" accept="image/*" style="display:none;">
      </div>

      <div class="cube-face">
        <button type="button" class="file-btn" data-target="nx">+</button>
        <span>Left (‚àíX)</span>
        <input type="file" id="nx" accept="image/*" style="display:none;">
      </div>

      <div class="cube-face">
        <button type="button" class="file-btn" data-target="py">+</button>
        <span>Top (+Y)</span>
        <input type="file" id="py" accept="image/*" style="display:none;">
      </div>

      <div class="cube-face">
        <button type="button" class="file-btn" data-target="ny">+</button>
        <span>Bottom (‚àíY)</span>
        <input type="file" id="ny" accept="image/*" style="display:none;">
      </div>

      <div class="cube-face">
        <button type="button" class="file-btn" data-target="pz">+</button>
        <span>Front (+Z)</span>
        <input type="file" id="pz" accept="image/*" style="display:none;">
      </div>

      <div class="cube-face">
        <button type="button" class="file-btn" data-target="nz">+</button>
        <span>Back (‚àíZ)</span>
        <input type="file" id="nz" accept="image/*" style="display:none;">
      </div>

      <div class="actions">
        <button id="build">Crear</button>
        <button id="download" disabled>Descargar</button>
        <select id="quality">
          <option value="1024x512">Baja</option>
          <option value="2048x1024">Media</option>
          <option value="4096x2048" selected>Alta</option>
        </select>
        <div class="status" id="status"></div>
      </div>

    </div>

    <!-- Columna derecha -->
    <div class="viewer-panel">
      <div id="viewer"></div>
    </div>

  </section>

  <!-- üîπ Bloque Equirectangular ‚Üí Cubemap -->
  <section id="eq2cm" class="tool-main tab-content">

    <div class="cube-inputs">
      <div class="cube-face">
        <button type="button" class="file-btn" data-target="eqr">+</button>
        <span>Equirectangular</span>
        <input type="file" id="eqr" accept="image/*" style="display:none;">
      </div>

      <div class="actions">
        <button id="build-eqr">Crear Cubemap</button>
        <button id="download-eqr" disabled>Descargar ZIP</button>
        <div class="status" id="status-eqr"></div>
      </div>
    </div>

    <div class="viewer-panel">
      <div id="viewer-eqr"></div>
    </div>

  </section>

</main>

<footer>
  By rraum.LAB
</footer>

<script src="https://cdn.jsdelivr.net/npm/three@0.105.2/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/panolens/build/panolens.min.js"></script>

<!-- üîπ Librer√≠a JSZip -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<script src="espacio-inm.js"></script>

<!-- üîπ Script para pesta√±as -->
<script>
  document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      btn.classList.add('active');
      document.getElementById(btn.dataset.target).classList.add('active');
    });
  });

  // üîπ Funci√≥n para el bot√≥n de volver
  function goBack() {
    window.history.back();
  }
</script>
</body>
</html>

