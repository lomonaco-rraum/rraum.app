<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>espacio.RA — rraum.LAB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="espacio-ra.css">

  <!-- Librerías RA: actualizadas -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ar-js-org@3.4.6/aframe/build/aframe-ar.min.js"></script>
  <script>
  document.getElementById('view-mode').addEventListener('change', e => {
    const mode = e.target.value;
    if (mode === 'ra') {
      document.getElementById('viewer-ra').style.display = 'block';
      document.getElementById('viewer').style.display = 'none';
      document.body.classList.add('ra-fullscreen');
    }
  });
</script>

</head>
<body>

<header>
  <h1>espacio.RA</h1>
  <p class="muted">Visualización de modelos OBJ / STL</p>
</header>

<main>
  <section class="tool-main">
    <!-- Columna izquierda -->
    <div class="cube-inputs">
      <div class="actions">
        <select id="view-mode" aria-label="Modo de visualización">
          <option value="">Seleccione modo...</option>
          <option value="orbit">Visor 3D</option>
          <option value="ra">Realidad Aumentada</option>
        </select>

        <div class="cube-face">
          <button id="upload-btn" class="file-btn" title="Subir modelo" aria-label="Subir modelo" disabled>+</button>
          <span class="face-name">Subir modelo</span>
        </div>

        <button id="navigate-btn" disabled>Navegar</button>
        <button id="camera-btn" disabled style="display:none;">Acceder a cámara</button>
        <button id="marker-btn" style="display:none;">Descargar marcador</button>

      </div>

      <div id="status" class="status">Seleccione un modo de visualización</div>
    </div>

    <!-- Columna derecha -->
    <div class="viewer-panel">
      <div id="viewer"></div>

      <div id="viewer-ra" style="display:none;">
        <a-scene
          embedded
          arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
        >
          <a-marker type="pattern" url="raumlab-logo.patt">
            <a-entity></a-entity>
          </a-marker>
          <a-entity camera></a-entity>
        </a-scene>
      </div>

    </div>
  </section>
</main>

<footer>By rraum.LAB</footer>

<!-- Librerías Orbit -->
<script src="https://cdn.jsdelivr.net/npm/three@0.105.2/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/panolens@0.12.0/build/panolens.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.105.2/examples/js/loaders/OBJLoader.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.105.2/examples/js/loaders/STLLoader.js"></script>

<!-- Lógica -->
<script src="espacio-ra.js"></script>
</body>
</html>
